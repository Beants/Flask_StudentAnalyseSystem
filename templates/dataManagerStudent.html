{% extends 'base_index.html' %}

{% block nav %}
	<li role = "presentation" style = "width: 96px" ><a href = "/" >主页</a ></li >
	<li role = "presentation" style = "width: 96px" ><a href = "/search" >高级搜索</a ></li >
	<li role = "presentation" style = "width: 96px" ><a href = "/dataManager" >数据管理</a ></li >
	<li role = "presentation" class = "active" >
		<a href = "/dataManager/student" class = "active" >个人消费数据统计（按天为单位计算）</a >
	</li >
	<li role = "presentation" >
		<a href = "/dataManager/class" >班级消费数据统计（按天为单位计算）</a >
	</li >
{% endblock %}
{% block content %}
	<!-- 此处填充页面主体内容 -->
	<div align = "center" style = "padding: 50px;background: #ffffff" >

		<div class = "row" >
			<div class = "col-md-12" ><h2 >个人消费数据统计</h2 ></div >

			{% if data==None %}

			<form class = "table" action = "/dataManager/student" method = "get" >

				<label style = "height: 33px" >学号： </label >
				<label style = "height: 33px" >
					<input type = "text" class = "form-control" name = "stuID" style = "width: 250px" >
				</label >


				<button style = "height: 33px ;width:96px;" type = "submit" class = "btn-success" >搜索

				</button >
			</form >
			{% else %}
				<div class = "jumbotron" >

					{% for jsfile_name in script_list %}
						<script src = "{{ host }}/{{ jsfile_name }}.js" ></script >
					{% endfor %}
					<p hidden = "hidden" id = "data" >{{ data }}</p >

					<div id = "{{ chart_id }}" style = "width:{{ my_width }};height:{{ my_height }}px;" ></div >
					<script type = "text/javascript" >
                        window.onload = function () {
                            setTimeout(function () {
                                var myChart_{{ chart_id }} = echarts.init(document.getElementById('{{ chart_id }}'), null, {renderer: '{{ renderer}}'});
                                {{ custom_function }}
                                var option_{{ chart_id }} = {{ options | safe }};
                                myChart_{{ chart_id }}.setOption(option_{{ chart_id }});
                                window.onresize = function () {
                                    myChart_{{ chart_id }}.resize();
                                };
                            }, 1000);
                        };
					</script >
				</div >
			{% endif %}
		</div >
	</div >


	</div >



{% endblock %}
